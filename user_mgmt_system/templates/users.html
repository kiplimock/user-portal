{% extends "base.html" %}
{% block content %}
  <div class="container">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Gender</th>
          <th>Email</th>
          {% if current_user.email == 'kiplimock@gmail.com' %}
          <th>Action</th>
          {% endif %}
        </tr>
      </thead>
      <tbody>
        {% for user in users.items %}
        <tr>
          <td>{{ user.id }}</td>
          <td>{{ user.first_name }}</td>
          <td>{{ user.last_name }}</td>
          <td>{{ user.gender }}</td>
          <td>{{ user.email }}</td>
          {% if current_user.email == 'kiplimock@gmail.com' %}
          <td><button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#delModal">Delete</button></td>
          {% endif %}
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <nav>
      <ul class="pagination pagination-sm">
        {% for page_num in users.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=1) %}
        {% if users.page == page_num %}
        <li class="page-link active disabled">
          <a href="{{ url_for('users.view_users', page=page_num) }}" class="page-link">
            <span>&laquo;</span>
          </a>
        </li>
        {% else %}
        <li class="page-link">
          <a href="{{ url_for('users.view_users', page=page_num) }}" class="page-link">
            <span>&raquo;</span>
          </a>
        </li>
        {% endif %}
        {% endfor %}
      </ul>
    </nav>
  </div>
{% endblock %}
